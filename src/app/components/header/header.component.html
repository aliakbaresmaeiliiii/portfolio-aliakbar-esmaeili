    <header
      class="fixed top-0 left-0 right-0 z-50 backdrop-blur-md transition-all duration-500"
      [class.glass-effect]="isScrolled()"
      [class.shadow-2xl]="isScrolled()"
      [class.bg-transparent]="!isScrolled()"
      [class.translate-y-0]="mounted()"
      [class.-translate-y-24]="!mounted()"
      [class.opacity-100]="mounted()"
      [class.opacity-0]="!mounted()"
    >
      <nav class="container mx-auto px-6 py-3">
        <div class="flex items-center justify-between">

          <!-- Logo -->
          <div class="flex items-center space-x-3">
            <div
              class="relative rounded-full overflow-hidden border-2 transition-all duration-300 hover:scale-105 "
              [class.w-10]="!isScrolled()"
              [class.h-10]="!isScrolled()"
              [class.w-8]="isScrolled()"
              [class.h-8]="isScrolled()"
            >
              <img
                src="assets/IMG_4810.JPG"
                class="w-full h-full object-cover"
                alt="Aliakbar Esmaeili"
              />
            </div>

            <div
              class="font-bold bg-gradient-to-r from-blue-500 to-purple-600 bg-clip-text text-transparent transition-all duration-300"
              [class.text-2xl]="!isScrolled()"
              [class.text-xl]="isScrolled()"
            >
              Aliakbar Esmaeili
            </div>
          </div>

          <!-- Desktop Menu -->
          <div class="hidden lg:flex items-center space-x-2">
            @for (item of navItems(); track item.name; let i = $index) {
              <a
                [href]="item.href"
                (click)="setActiveItem(i)"
                class="relative px-5 py-3 font-medium transition-all duration-300 hover:scale-105 "
                [class.text-blue-600]="activeItem() === i"
                [class.text-gray-700]="activeItem() !== i"
              >
                {{ item.name }}
                <span
                  class="absolute left-0 bottom-0 h-0.5 bg-gradient-to-r from-blue-500 to-purple-600 transition-all duration-300"
                  [class.w-full]="activeItem() === i"
                  [class.w-0]="activeItem() !== i"
                ></span>
              </a>
            }

            <div class="ml-4 pl-4 border-l">
              <app-theme-toggle />
            </div>
          </div>

          <!-- Mobile Button -->
          <button
            (click)="toggleMenu()"
            class="lg:hidden w-10 h-10 flex flex-col items-center justify-center"
          >
            <span
              class="w-6 h-0.5 bg-current transition-all duration-300"
              [class.rotate-45]="isMenuOpen()"
              [class.translate-y-1.5]="isMenuOpen()"
            ></span>
            <span
              class="w-6 h-0.5 bg-current my-1 transition-all duration-300"
              [class.opacity-0]="isMenuOpen()"
            ></span>
            <span
              class="w-6 h-0.5 bg-current transition-all duration-300"
              [class.-rotate-45]="isMenuOpen()"
              [class.-translate-y-1.5]="isMenuOpen()"
            ></span>
          </button>
        </div>

        <!-- Mobile Menu -->
        <div
          class="lg:hidden overflow-hidden transition-all duration-300 origin-top"
          [class.max-h-0]="!isMenuOpen()"
          [class.max-h-[500px]]="isMenuOpen()"
          [class.opacity-0]="!isMenuOpen()"
          [class.opacity-100]="isMenuOpen()"
          [class.scale-95]="!isMenuOpen()"
          [class.scale-100]="isMenuOpen()"
        >
          <div class="mt-4 rounded-lg bg-white/80 dark:bg-gray-900/80 p-4 space-y-2">
            @for (item of navItems(); track item.name; let i = $index) {
              <a
                [href]="item.href"
                (click)="closeMenu(); setActiveItem(i)"
                class="block px-4 py-3 rounded-lg transition-all duration-300 hover:scale-105 text-white"
                [class.text-blue-600]="activeItem() === i"
              >
                {{ item.name }}
              </a>
            }

            <div class="pt-4 border-t">
              <app-theme-toggle />
            </div>
          </div>
        </div>

      </nav>
    </header>